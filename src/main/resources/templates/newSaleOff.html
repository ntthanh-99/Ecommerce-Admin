<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<meta charset="utf-8">
<head th:replace="header :: common-header" />
<body>
	<div class="preloader">
		<div class="lds-ripple">
			<div class="lds-pos"></div>
			<div class="lds-pos"></div>
		</div>
	</div>
	<div id="main-wrapper" data-layout="vertical" data-navbarbg="skin5"
		data-sidebartype="full" data-sidebar-position="absolute"
		data-header-position="absolute" data-boxed-layout="full">
		<div th:replace="header :: common-body" />
		<div class="page-wrapper">
			<div class="row">
				<div class="col-md-12 col-lg-12 col-sm-12">
					<div class="white-box">
						<div class="row" style="margin: auto;">
							<ul class="nav nav-tabs">
								<li th:classappend="${classSaleOffForProduct}? 'active'"><a
									href="#tab-1" data-toggle="tab"><span style="color: red;">Cho
											sản phẩm</span></a></li> &nbsp;&nbsp;&nbsp;
								<li th:classappend="${classSaleOffForTotal}? 'active'"><a
									href="#tab-2" data-toggle="tab"><span style="color: red;">Cho
											Tổng tiền mua</span></a></li>
							</ul>

							<div class="tab-content">

								<!-- create new user pane -->
								<div class="tab-pane fade" id="tab-1"
									th:classappend="${classSaleOffForProduct}? 'in active'">
									<form action="/newSaleOffForProduct" method="post"
										th:oject="${saleOffForProduct}">
										<div class="d-md-flex mb-2">
											<div class="row" style="width: 50%">
												<div class="col-md-12 col-lg-12 col-sm-12">
													<div class="white-box">
														<div class="d-md-flex mb-3">
															<h3 class="box-title mb-0">DS Sản phẩm</h3>
															<div class="col-md-3 col-sm-4 col-xs-6 ms-auto"
																style="width: 50%;">
																<input type="text" placeholder="Tìm kiếm sản phẩm"
																	class="form-control mt-0" id="productInput"
																	onkeyup="filterSearchProduct()">
															</div>
														</div>
														<div class="table-wrapper-scroll-y my-custom-scrollbar">
															<table class="table table-bordered table-striped mb-0"
																id="supplierTable">
																<thead>
																	<tr>
																		<th class="border-top-0">Chọn</th>
																		<th class="border-top-0">Tên SP</th>
																		<th class="border-top-0">Giá</th>
																		<th class="border-top-0">Mô tả</th>
																	</tr>
																</thead>
																<tbody>
																	<tr th:each="product : ${productList}">
																		<td>
																			<div class="custom-control custom-checkbox">
																				<input type="checkbox" class="custom-control-input"
																					th:field="${saleOffForProduct.product.id}"
																					th:value="${product.id}">
																			</div>
																		</td>
																		<td class="txt-oflo" th:text="${product.name}"></td>
																		<td th:text="${product.price}"></td>
																		<td class="txt-oflo" th:text="${product.description}"></td>
																	</tr>
																</tbody>
															</table>
														</div>
													</div>
												</div>
											</div>

											<!-- input info-->
											<div class="row"
												style="margin-left: 20px !important; width: 50%;">
												<div class="col-md-12 col-lg-12 col-sm-12">
													<div class="white-box">
														<label>Tên khuyến mại</label> <input type="text"
															th:field="${saleOffForProduct.saleOff.name}"
															placeholder="Ten khuyen mai" class="form-control mt-0">
														<br> <label>Mô tả</label> <input type="text"
															th:field="${saleOffForProduct.saleOff.description}"
															placeholder="Mo ta" class="form-control mt-0"> <br>

														<label>Ngày bắt đầu</label> <input type="date"
															th:field="${saleOffForProduct.saleOff.startDate}"
															placeholder="Ngay bat dau" class="form-control mt-0">
														<br> <label>Ngày kết thúc</label> <input type="date"
															th:field="${saleOffForProduct.saleOff.endDate}"
															placeholder="Ngay ket thuc" class="form-control mt-0"><br>

														<label>Lượng giảm</label> <input type="text"
															th:field="${saleOffForProduct.sale}"
															placeholder="Ngay ket thuc" class="form-control mt-0"><br>

														<button type="submit" class="btn btn-success">Tạo</button>
													</div>
												</div>
											</div>
									</form>
								</div>
							</div>

							<!-- create new user pane -->
							<div class="tab-pane fade" id="tab-2"
								th:classappend="${classNewSaleOffForTotal}? 'in active'">
								<div
									style="margin-top: 20px; width: 50%; margin-left: auto; margin-right: auto;">
									<form th:action="@{/newSaleOffForTotal}" method="post"
										th:oject="${saleOffForTotal}">
										<label>Tên khuyến mại</label> <input type="text"
											th:field="${saleOffForTotal.saleOff.name}"
											placeholder="Ten khuyen mai" class="form-control mt-0">
										<br> <label>Mô tả</label> <input type="text"
											th:fiel="${saleOffForTotal.saleOff.description}"
											placeholder="Mo ta" class="form-control mt-0"> <br>

										<label>Ngày bắt đầu</label> <input type="date"
											th:field="${saleOffForTotal.saleOff.startDate}"
											placeholder="yyyy:MM:dd hh:mm:ss" class="form-control mt-0">
										<br> <label>Ngày kết thúc</label> <input type="date"
											th:field="${saleOffForTotal.saleOff.endDate}"
											placeholder="yyyy:MM:dd hh:mm:ss" class="form-control mt-0"><br>

										<label>Tổng tiền được áp dụng</label> <input type="text"
											th:field="${saleOffForTotal.total}"
											placeholder="tong tien duoc ap dung"
											class="form-control mt-0"><br> <label>Lượng
											giảm</label> <input type="text" th:field="${saleOffForTotal.sale}"
											class="form-control mt-0"><br>
										<button type="submit" class="btn btn-success">Tạo</button>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div th:replace="header :: common-footer" />
	<div th:replace="header :: common-scripts" />
	<script>
		function filterSearchProduct() {
			var input, filter, table, tr, td, i, txtValue;
			input = document.getElementById("productInput");
			filter = input.value.toUpperCase();
			table = document.getElementById("productTable");
			tr = table.getElementsByTagName("tr");
			for (i = 0; i < tr.length; i++) {
				td = tr[i].getElementsByTagName("td")[1];
				if (td) {
					txtValue = td.textContent || td.innerText;
					if (txtValue.toUpperCase().indexOf(filter) > -1) {
						tr[i].style.display = "";
					} else {
						tr[i].style.display = "none";
					}
				}
			}
		}
	</script>
</body>
</html>